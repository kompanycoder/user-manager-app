(this["webpackJsonpuser-manager-app"]=this["webpackJsonpuser-manager-app"]||[]).push([[0],{31:function(e,t,a){e.exports=a(48)},36:function(e,t,a){},43:function(e,t,a){},48:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(19),s=a.n(c);a(36),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(37);var o=a(6),l=a(15),i=a(7),u=a(8),m=a(10),p=a(9),h=a(11),d=a(14),f={baseUrl:"https://ti-react-test.herokuapp.com/users"};function E(){return{type:"GET_USERS",payload:fetch(f.baseUrl).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("Found Error..: \n"+e)}))}}var b=function(e){return r.a.createElement("div",{className:"container p-3"},r.a.createElement("div",{className:"card p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-8"},r.a.createElement("h6",{className:"pl-1"},"Name: ",e.name),r.a.createElement("h6",{className:"pl-1"},"Email: ",e.email),r.a.createElement("h6",{className:"pl-1"},"Occupation: ",e.occupation)),r.a.createElement("div",{className:"col-4"},r.a.createElement(o.b,{to:"/users/".concat(e.id),className:"btn btn-block btn-outline-primary mb-1 ml-8 p-1"},"Edit")),r.a.createElement("div",{className:"col-12 text-justify"},r.a.createElement("h6",{className:"pl-1"},"Bio :"),r.a.createElement("p",{className:"pl-1 btn-outline-primary"},e.bio)))))},v=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).showUsers=function(e){return e?e.map((function(e,t){return r.a.createElement(b,Object.assign({key:t},e))})):"No Items Loaded..."},a.state={count:0},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(E())}},{key:"userCount",value:function(e){return e?[].concat(e).length:"0"}},{key:"render",value:function(e){var t=this.props.users.users;return r.a.createElement("div",{className:"container row"},r.a.createElement("h4",{className:"col-md-12 mt-4 mb-4 text-center"},"Users Dashboard Display"),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"text-center pr-2"},"User count is at : ",this.userCount(t)," ")," ",r.a.createElement(o.b,{to:"/search",className:"btn btn-outline-info ml-3 right-most-btn"},"Search Users")),r.a.createElement("div",{className:"container col-md-12 text-center"},this.showUsers(t)))}}]),t}(n.Component);var N=Object(d.b)((function(e){return{users:e.users}}))(v);function y(e){return r.a.createElement("div",{className:"container-fluid p-3"},r.a.createElement("div",{className:"card p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-12"},r.a.createElement("h6",{className:"pl-1"},"Name: ",e.name),r.a.createElement("h6",{className:"pl-1"},"Email: ",e.email),r.a.createElement("h6",{className:"pl-1"},"Occupation: ",e.occupation)),r.a.createElement("div",{className:"col-12 text-justify"},r.a.createElement("h6",{className:"pl-1"},"Bio :"),r.a.createElement("p",{className:"pl-1 btn-outline-primary"},e.bio)))))}var O=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).renderUsers=function(e){return e?e.map((function(e,t){return r.a.createElement(y,Object.assign({key:t},e))})):"No items to Render"},a.state={searchTerm:"",searching:!1,users:[],filtered:[]},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(E())}},{key:"componentWillReceiveProps",value:function(e){var t=e.users.users;this.setState({users:t})}},{key:"searchTerm",value:function(e){e.preventDefault(),this.setState({searching:!0});var t=e.target.value;this.setState({searchTerm:t})}},{key:"findUser",value:function(e){e.preventDefault();var t=this.state.searchTerm.toLowerCase(),a=this.state.users.filter((function(e){if(e.name.toLowerCase().includes(t))return e}));this.setState({filtered:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h6",{className:"text-center"},"Who are you trying to find?")," ",r.a.createElement(o.b,{className:"btn btn-outline-info right-most-btn",to:"/"},"Back")),r.a.createElement("div",{className:"col-md-12 mt-4"},r.a.createElement("form",{className:"form-inline",onSubmit:function(t){return e.findUser(t)}},r.a.createElement("input",{name:"search",className:"form-control col-md-7",placeholder:"Search user by name",onChange:function(t){return e.searchTerm(t)},type:"text",defaultValue:this.state.searchTerm})," ",r.a.createElement("button",{className:"btn btn-light",type:"submit"},"Search")),r.a.createElement("div",{className:"col-md-10 mt-4 text-center"},this.state.searching?this.renderUsers(this.state.filtered):"Search for user..")))}}]),t}(n.Component);var g=Object(d.b)((function(e){return{users:e.users}}))(O),j=a(17),k=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(m.a)(this,Object(p.a)(t).call(this,e))).handleInputChange=function(e,t){e.preventDefault();var n=Object(j.a)({},a.state.user);n[t]=e.target.value,a.setState({user:n})},a.handleSubmit=function(e){e.preventDefault();var t=a.state.user,n=a.state.user.id;a.props.dispatch(function(e,t){var a="/".concat(e),n={headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(t)};return{type:"EDIT_USER",payload:fetch(f.baseUrl+a,n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(n,t)),a.props.history.push("/")},a.state={user:{id:"",name:"",email:"",occupation:"",bio:""}},a}return Object(h.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e){var t="/".concat(e);return{type:"GET_SINGLE_USER",payload:fetch(f.baseUrl+t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(this.props.match.params.id))}},{key:"componentWillReceiveProps",value:function(e){var t=e.users.user;this.setState({user:{id:t.id,name:t.name,email:t.email,occupation:t.occupation,bio:t.bio}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement(o.b,{className:"btn btn-outline-info right-most-btn",to:"/"},"Back"),r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"text-left"},"Edit User"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputName"},"Name"),r.a.createElement("input",{type:"email",name:"email",id:"inputName",className:"form-control",placeholder:"Full name",required:"",autoFocus:"",onChange:function(t){return e.handleInputChange(t,"name")},value:this.state.user.name})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputEmail"},"Email address"),r.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:"",autoFocus:"",name:"email",onChange:function(t){return e.handleInputChange(t,"email")},value:this.state.user.email})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputOccupation"},"Occupation"),r.a.createElement("input",{type:"email",id:"inputOccupation",className:"form-control",placeholder:"Occupation",required:"",autoFocus:"",name:"occupation",onChange:function(t){return e.handleInputChange(t,"occupation")},value:this.state.user.occupation})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputBio"},"Bio"),r.a.createElement("textarea",{type:"email",id:"inputBio",className:"form-control",rows:"8",placeholder:"Your Bio",required:"",autoFocus:"",name:"bio",onChange:function(t){return e.handleInputChange(t,"bio")},value:this.state.user.bio})),r.a.createElement("button",{className:"btn btn-block btn-outline-success mt-4",onClick:function(t){return e.handleSubmit(t)}},"Edit"))))}}]),t}(n.Component);var S=Object(d.b)((function(e){return{users:e.users}}))(k),C=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h1",{className:"text-center"},"User management App"))}}]),t}(n.Component),U=function(e){function t(){return Object(i.a)(this,t),Object(m.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(u.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"container footer"},r.a.createElement("p",{className:"text-center"},"copyright @2020"))}}]),t}(n.Component),w=(a(43),function(e){return r.a.createElement("div",{className:"container"},r.a.createElement(C,null),r.a.createElement("div",{className:"container col-10"},e.children),r.a.createElement(U,null))}),x=function(){return r.a.createElement(w,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:N}),r.a.createElement(l.a,{path:"/users/:id",exact:!0,component:S}),r.a.createElement(l.a,{path:"/search",exact:!0,component:g})))},T=a(29),D=a(16),I=a(30),B=a.n(I),F=Object(D.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(j.a)({},e,{users:t.payload});case"GET_SINGLE_USER":case"EDIT_USER":return Object(j.a)({},e,{user:t.payload});default:return e}}}),R=Object(D.a)(B.a,T.a)(D.d);s.a.render(r.a.createElement(d.a,{store:R(F)},r.a.createElement(o.a,null,r.a.createElement(x,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[31,1,2]]]);
//# sourceMappingURL=main.10341a43.chunk.js.map