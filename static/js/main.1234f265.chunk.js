(this["webpackJsonpuser-manager-app"]=this["webpackJsonpuser-manager-app"]||[]).push([[0],{28:function(e,t,a){e.exports=a(45)},33:function(e,t,a){},40:function(e,t,a){},45:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(17),s=a.n(c);a(33),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(34);var o=a(7),l=a(2),i=a(8),u=a(9),m=a(11),p=a(10),h=a(13),d={baseUrl:"https://ti-react-test.herokuapp.com/users"};function f(){return{type:"GET_USERS",payload:fetch(d.baseUrl).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log("Found Error..: \n"+e)}))}}var E=function(e){return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"card mt-2 col-12"},r.a.createElement("div",{className:"col-4 card-btn"},r.a.createElement(o.b,{to:"/users/".concat(e.id),className:"btn btn-block btn-outline-primary"},"Edit")),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-11 text-left pt-1"},r.a.createElement("h6",{className:"text"},"Name: ",e.name),r.a.createElement("p",{className:"text"},"Email: ",e.email),r.a.createElement("p",{className:"text"},"Occupation: ",e.occupation)),r.a.createElement("div",{className:"col-12 text-justify"},r.a.createElement("h6",{className:"primary text-success"},"Bio :"),r.a.createElement("p",{className:"pl-1 text-info text-capitalize"},e.bio)))))},b=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).showUsers=function(e){return e?e.map((function(e,t){return r.a.createElement(E,Object.assign({key:t},e))})):"No users loaded..."},n.state={count:0},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(f())}},{key:"userCount",value:function(e){return e?[].concat(e).length:"0"}},{key:"render",value:function(e){var t=this.props.users.users;return r.a.createElement("div",{className:"container-fluid"},r.a.createElement("h4",{className:"mt-4 mb-4 text-center"},"Users Dashboard Display"),r.a.createElement("div",{className:"row"},r.a.createElement("p",{className:"text-center pr-2"},"User count is at : ",this.userCount(t)," ")," ",r.a.createElement(o.b,{to:"/search",className:"btn btn-outline-info ml-3 right-most-btn"},"Search Users")),r.a.createElement("div",{className:"container-fluid text-center"},this.showUsers(t)))}}]),a}(n.Component);var v=Object(h.b)((function(e){return{users:e.users}}))(b);function N(e){return r.a.createElement("div",{className:"container-fluid p-3"},r.a.createElement("div",{className:"card p-3"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:" col-11 text-left pt-1"},r.a.createElement("h6",{className:"text"},"Name: ",e.name),r.a.createElement("p",{className:"text"},"Email: ",e.email),r.a.createElement("p",{className:"text"},"Occupation: ",e.occupation)),r.a.createElement("div",{className:"col-12 text-justify"},r.a.createElement("h6",{className:"primary text-success"},"Bio :"),r.a.createElement("p",{className:"pl-1 text-info text-capitalize"},e.bio)))))}var y=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).renderUsers=function(e){return e?e.map((function(e,t){return r.a.createElement(N,Object.assign({key:t},e))})):"No items to Render"},n.state={searchTerm:"",searching:!1,users:[],filtered:[]},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(f())}},{key:"componentWillReceiveProps",value:function(e){var t=e.users.users;this.setState({users:t})}},{key:"searchTerm",value:function(e){e.preventDefault(),this.setState({searching:!0});var t=e.target.value;this.setState({searchTerm:t})}},{key:"findUser",value:function(e){e.preventDefault();var t=this.state.searchTerm.toLowerCase(),a=this.state.users.filter((function(e){if(e.name.toLowerCase().includes(t))return e}));this.setState({filtered:a})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("h6",{className:"text-center"},"Who are you trying to find?")," ",r.a.createElement(o.b,{className:"btn btn-outline-info right-most-btn",to:"/"},"Back")),r.a.createElement("div",{className:"col-md-12 mt-4"},r.a.createElement("form",{className:"form-inline",onSubmit:function(t){return e.findUser(t)}},r.a.createElement("input",{name:"search",className:"form-control col-md-7",placeholder:"Search user by name",onChange:function(t){return e.searchTerm(t)},type:"text",defaultValue:this.state.searchTerm})," ",r.a.createElement("button",{className:"btn btn-light",type:"submit"},"Search")),r.a.createElement("div",{className:"col-md-10 mt-4 text-center"},this.state.searching?this.renderUsers(this.state.filtered):"Search for user..")))}}]),a}(n.Component);var g=Object(h.b)((function(e){return{users:e.users}}))(y),O=a(12),j=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(e){var n;return Object(i.a)(this,a),(n=t.call(this,e)).handleInputChange=function(e,t){e.preventDefault();var a=Object(O.a)({},n.state.user);a[t]=e.target.value,n.setState({user:a})},n.handleSubmit=function(e){e.preventDefault();var t=n.state.user,a=n.state.user.id;n.props.dispatch(function(e,t){var a="/".concat(e),n={headers:{"Content-Type":"application/json"},method:"PATCH",body:JSON.stringify(t)};return{type:"EDIT_USER",payload:fetch(d.baseUrl+a,n).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(a,t)),n.props.history.push("/")},n.state={user:{id:"",name:"",email:"",occupation:"",bio:""}},n}return Object(u.a)(a,[{key:"componentDidMount",value:function(){this.props.dispatch(function(e){var t="/".concat(e);return{type:"GET_SINGLE_USER",payload:fetch(d.baseUrl+t,{method:"GET"}).then((function(e){return e.json()})).then((function(e){return e})).catch((function(e){console.log(e)}))}}(this.props.match.params.id))}},{key:"componentWillReceiveProps",value:function(e){var t=e.users.user;this.setState({user:{id:t.id,name:t.name,email:t.email,occupation:t.occupation,bio:t.bio}})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"row"},r.a.createElement(o.b,{className:"btn btn-outline-info right-most-btn",to:"/"},"Back"),r.a.createElement("div",{className:"container"},r.a.createElement("h4",{className:"text-left"},"Edit User"),r.a.createElement("div",{className:"col-md-10"},r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputName"},"Name"),r.a.createElement("input",{type:"email",name:"email",id:"inputName",className:"form-control",placeholder:"Full name",required:"",autoFocus:"",onChange:function(t){return e.handleInputChange(t,"name")},value:this.state.user.name})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputEmail"},"Email address"),r.a.createElement("input",{type:"email",id:"inputEmail",className:"form-control",placeholder:"Email address",required:"",autoFocus:"",name:"email",onChange:function(t){return e.handleInputChange(t,"email")},value:this.state.user.email})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputOccupation"},"Occupation"),r.a.createElement("input",{type:"email",id:"inputOccupation",className:"form-control",placeholder:"Occupation",required:"",autoFocus:"",name:"occupation",onChange:function(t){return e.handleInputChange(t,"occupation")},value:this.state.user.occupation})),r.a.createElement("div",{className:"form-label-group"},r.a.createElement("label",{htmlFor:"inputBio"},"Bio"),r.a.createElement("textarea",{type:"email",id:"inputBio",className:"form-control",rows:"8",placeholder:"Your Bio",required:"",autoFocus:"",name:"bio",onChange:function(t){return e.handleInputChange(t,"bio")},value:this.state.user.bio})),r.a.createElement("button",{className:"btn btn-block btn-outline-success mt-4",onClick:function(t){return e.handleSubmit(t)}},"Edit"))))}}]),a}(n.Component);var x=Object(h.b)((function(e){return{users:e.users}}))(j),k=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"render",value:function(){return r.a.createElement("div",{className:"constainer-fluid"},r.a.createElement("h1",{className:"text-center mt-4 mb-4"},"User management App"))}}]),a}(n.Component),S=function(e){Object(m.a)(a,e);var t=Object(p.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(u.a)(a,[{key:"getYear",value:function(){return(new Date).getFullYear().toString()}},{key:"render",value:function(){return r.a.createElement("div",{className:"container footer"},r.a.createElement("p",{className:"text-center"},"\xa9 copyright ",this.getYear(),"."))}}]),a}(n.Component),C=(a(40),function(e){return r.a.createElement("div",null,r.a.createElement(k,null),r.a.createElement("div",{className:"col-md-12"},e.children),r.a.createElement(S,null))}),U=function(){return r.a.createElement(C,null,r.a.createElement(l.c,null,r.a.createElement(l.a,{path:"/",exact:!0,component:v}),r.a.createElement(l.a,{path:"/users/:id",exact:!0,component:x}),r.a.createElement(l.a,{path:"/search",exact:!0,component:g})))},w=a(26),T=a(14),D=a(27),F=a.n(D),B=Object(T.c)({users:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GET_USERS":return Object(O.a)(Object(O.a)({},e),{},{users:t.payload});case"GET_SINGLE_USER":case"EDIT_USER":return Object(O.a)(Object(O.a)({},e),{},{user:t.payload});default:return e}}}),I=Object(T.a)(F.a,w.a)(T.d);s.a.render(r.a.createElement(h.a,{store:I(B)},r.a.createElement(o.a,null,r.a.createElement(U,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[28,1,2]]]);
//# sourceMappingURL=main.1234f265.chunk.js.map